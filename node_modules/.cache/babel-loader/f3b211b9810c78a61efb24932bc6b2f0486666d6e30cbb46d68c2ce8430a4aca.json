{"ast":null,"code":"import DatePicker from \"../DatePicker.vue\";\nimport TimesheetService from '../../serviceLayer/timeSheetService';\nimport { mapActions, mapGetters } from \"vuex\";\nexport default {\n  data() {\n    return {\n      WFH: ' ',\n      checkIn: '',\n      checkOut: '',\n      productiveHours: '',\n      ChechInCheckOut: '',\n      Work_from_home: ' ',\n      Office: ' ',\n      workingDate: '',\n      calculatedHours: '',\n      leaveType: '',\n      period: '',\n      inType: {\n        \"Halfday\": 0.5,\n        \"Fullday\": 1\n      }\n    };\n  },\n  components: {\n    DatePicker\n  },\n  methods: {\n    ...mapActions('empStore', ['GET_CHECKS']),\n    check() {\n      this.GET_CHECKS({\n        // success:this.onSuccessofData,\n        // fail:this.onFailofData,\n        GET_CHECKS({\n          commit\n        }, {\n          success,\n          fail,\n          data\n        }) {\n          timeSheetService.ChechInCheckOut({\n            success: data => {\n              commit('setdata', data);\n              success(data);\n            },\n            fail: error => {\n              fail(error);\n            },\n            data: {\n              empCode: user?.empCode,\n              workingDate: this.workingDate\n            }\n          });\n        }\n      });\n    },\n    onSuccessofData(data) {\n      console.log(data);\n    },\n    onFailofData(error) {\n      console.error(error);\n    },\n    submit() {\n      alert(this.WFH);\n    },\n    getSelectedDate(date) {\n      const user = this.getUser;\n      console.log(\"date: \" + date);\n      console.log(this.checkIn);\n      this.workingDate = date;\n      this.checkIn = new Date(date);\n      TimesheetService.calculatedHours({\n        success: res => {\n          this.calculatedHours = res.data;\n          console.log(res);\n        },\n        fail: err => {\n          console.log(err);\n        },\n        data: {\n          empCode: user?.empCode,\n          workingDate: this.workingDate\n        }\n      });\n    },\n    getInfo() {\n      let daycount = 1;\n      //  if(this.$data.leaveType===\"Halfday\")\n      //  {\n      //       daycount=0.5;\n      //  }\n      //  else if(this.$data.leaveType===\"Fullday\"){\n      //   daycount=1;\n      //  }\n      if (this.$data.leaveType === \"Halfday\") {\n        daycount = 0.5;\n      } else if (this.$data.leaveType === \"Fullday\") {\n        daycount = 1;\n      }\n      const data = {\n        empCode: this.getUser?.empCode,\n        managerId: this.getUser?.managerId,\n        workingDate: this.$data.workingDate,\n        hours: this.$data.productiveHours,\n        inType: this.$data.WFH ? \"WORK_FROM_HOME\" : \"OFFICE\",\n        dayCount: daycount,\n        period: this.period !== '' ? this.$data.period === \"first-half\" ? \"FIRST_HALF\" : \"SECOND_HALF\" : null\n      };\n      if (confirm(\"Are you sure want to submit the sheet?\")) {\n        this.addToTimesheet(data);\n      }\n    },\n    addToTimesheet(data) {\n      TimesheetService.timeSheetSubmission({\n        success: res => {\n          alert(\"Submitted Successfully..\");\n          console.log(res);\n        },\n        fail: err => {\n          // alert(\"Please try again later!\")\n          console.log(err);\n        },\n        data\n      });\n    },\n    isFullfDay() {\n      return this.productiveHours != '' && this.productiveHours <= 3;\n    },\n    isHalfDay() {\n      return this.productiveHours != '' && this.productiveHours > 3 && this.productiveHours <= 6;\n    },\n    isLeave() {\n      return this.productiveHours != '' && this.productiveHours >= 0 && this.productiveHours < 6;\n    },\n    isWFH() {\n      return this.WFH;\n    },\n    isCalculatedHours() {\n      return this.calculatedHours != '';\n    }\n  },\n  computed: {\n    ...mapGetters('authStore', ['getUser']),\n    ...mapGetters('empStore', ['getchecks']),\n    getCheckIn() {\n      console.log(this.checkIn);\n      return this.checkIn;\n    },\n    calculateTimeDifference() {\n      console.log(\"timedifference\");\n      let start = new Date(this.checkIn);\n      let end = new Date(this.checkOut);\n      let diff = end.getTime() - start.getTime();\n      let diffInDecimal = (diff / 3600000).toFixed(2);\n      console.log(diffInDecimal);\n      this.calculatedHours = diffInDecimal;\n      return diffInDecimal;\n    }\n  },\n  watch: {\n    checkIn: function () {\n      this.calculateTimeDifference;\n    },\n    checkOut: function () {\n      this.calculateTimeDifference;\n    }\n  }\n};","map":{"version":3,"names":["DatePicker","TimesheetService","mapActions","mapGetters","data","WFH","checkIn","checkOut","productiveHours","ChechInCheckOut","Work_from_home","Office","workingDate","calculatedHours","leaveType","period","inType","components","methods","check","GET_CHECKS","commit","success","fail","timeSheetService","error","empCode","user","onSuccessofData","console","log","onFailofData","submit","alert","getSelectedDate","date","getUser","Date","res","err","getInfo","daycount","$data","managerId","hours","dayCount","confirm","addToTimesheet","timeSheetSubmission","isFullfDay","isHalfDay","isLeave","isWFH","isCalculatedHours","computed","getCheckIn","calculateTimeDifference","start","end","diff","getTime","diffInDecimal","toFixed","watch"],"sources":["/Users/jaisri/Downloads/attendance-portal-master/src/components/js/timesheet.js"],"sourcesContent":["\nimport DatePicker from \"../DatePicker.vue\";\nimport TimesheetService from '../../serviceLayer/timeSheetService';\nimport { mapActions, mapGetters } from \"vuex\";\n\nexport default{\n    data(){\n        return { \n            WFH:' ',\n            checkIn:'',\n            checkOut:'',\n            productiveHours:'',\n            ChechInCheckOut:'',\n            Work_from_home:' ',\n            Office:' ',\n            workingDate:'',\n            calculatedHours:'',\n            leaveType:'',\n            period:'',\n            inType:{\n                \"Halfday\":0.5,\n                \"Fullday\":1\n              },\n             \n        }\n    }, \n\n    components:{\n        DatePicker\n    },\n\n    methods:{\n      ...mapActions('empStore',['GET_CHECKS']),\n\n\n     check()\n     {\n    \n      this.GET_CHECKS(\n      { \n        // success:this.onSuccessofData,\n        // fail:this.onFailofData,\n        GET_CHECKS({commit},{success,fail,data}){  \n          timeSheetService.ChechInCheckOut({\n              success:(data) => {\n                  commit('setdata', data)\n                  success(data)\n              },\n              fail:(error) =>{\n                  fail(error)\n              },data:{\n                  empCode:user?.empCode,\n                  workingDate:this.workingDate\n                }\n          })\n        }\n      })\n        \n\n     },\n\n     onSuccessofData(data)\n     {\n      console.log(data)\n     },\n     onFailofData(error)\n     {\n      console.error(error)\n     },\n\n\n        submit()\n        {\n          alert(this.WFH)\n\n        },\n       \n          getSelectedDate(date)\n          {\n            const user=this.getUser\n            console.log(\"date: \"+date)\n            console.log(this.checkIn)\n            this.workingDate=date;\n            this.checkIn=new Date(date);\n\n            TimesheetService.calculatedHours({\n              success:(res)=>{\n                this.calculatedHours=res.data\n                  console.log(res);\n              },\n              fail:(err)=>{\n                console.log(err)\n              },\n              data:{\n                empCode:user?.empCode,\n                workingDate:this.workingDate\n              }\n            })\n          },\n\n\n        getInfo(){\n            let daycount=1;\n          //  if(this.$data.leaveType===\"Halfday\")\n          //  {\n          //       daycount=0.5;\n          //  }\n          //  else if(this.$data.leaveType===\"Fullday\"){\n          //   daycount=1;\n          //  }\n           if(this.$data.leaveType===\"Halfday\")\n           {\n                daycount=0.5;\n           }\n           else if(this.$data.leaveType===\"Fullday\"){\n            daycount=1;\n           }\n\n\n\n\n          const data={\n            empCode: this.getUser?.empCode,\n            managerId: this.getUser?.managerId,\n            workingDate: this.$data.workingDate,\n\n            hours: this.$data.productiveHours,\n            inType: this.$data.WFH?\"WORK_FROM_HOME\":\"OFFICE\",\n            dayCount: daycount,\n            period: this.period !== ''?this.$data.period===\"first-half\"?\"FIRST_HALF\":\"SECOND_HALF\":null,\n          }\n            if(confirm(\"Are you sure want to submit the sheet?\")){\n                this.addToTimesheet(data);\n            }\n        },\n\n\n        addToTimesheet(data)\n        {\n          TimesheetService.timeSheetSubmission({\n            success:(res)=>{\n                alert(\"Submitted Successfully..\")\n                console.log(res);\n            },\n            fail:(err)=>{\n              // alert(\"Please try again later!\")\n              console.log(err)\n            },\n            data\n          })\n        },\n\n        isFullfDay(){\n            return this.productiveHours!='' && this.productiveHours<=3;\n        },\n        isHalfDay(){\n          return this.productiveHours!='' && this.productiveHours>3 && this.productiveHours<=6;\n      },\n        isLeave(){\n          return this.productiveHours!='' && this.productiveHours>=0 && this.productiveHours<6;\n        },\n        isWFH(){\n          return this.WFH;\n        },\n        isCalculatedHours(){\n          return this.calculatedHours!='';\n        }\n    },\n\n\n    computed:{\n      ...mapGetters('authStore',['getUser']),\n      ...mapGetters('empStore',['getchecks']),\n  \n        getCheckIn()\n        {\n          console.log( this.checkIn)\n            return this.checkIn;\n    },\n        calculateTimeDifference(){\n            console.log(\"timedifference\")\n            let start = new Date(this.checkIn);\n            let end = new Date(this.checkOut);\n            let diff = end.getTime() - start.getTime();\n            let diffInDecimal = (diff / 3600000).toFixed(2);\n            console.log(diffInDecimal)\n            this.calculatedHours=diffInDecimal;\n            return diffInDecimal;\n          },\n          \n    },\n        watch: {\n            checkIn: function() {\n              this.calculateTimeDifference;\n            },\n            checkOut: function() {\n              this.calculateTimeDifference;\n            }\n          }\n   \n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}